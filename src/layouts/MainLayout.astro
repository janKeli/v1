---
import '@fontsource/jetbrains-mono';
import Header from "../components/Header.astro";
import NoteMeta from "../components/NoteMeta.astro";

const { frontmatter } = Astro.props;

const title = frontmatter.title === 'index' ? 'jan Keli' : frontmatter.title;
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<link rel="sitemap" href="/sitemap-index.xml" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<meta name="description" content="jan Elikan's notes" />
		<title>{title}</title>
	</head>
	<body>
		<Header />
		<main>
			<NoteMeta name={title} {...frontmatter} />
	    <slot />
		</main>
	</body>
</html>

<style is:global>
	:root {
		--color-base: #1e1e2e;
		--color-text: #cdd6f4;
		--color-subtext: #a6adc8;
		--color-maroon: #eba0ac;
		--color-sapphire: #74c7ec;
		--color-blue: #89b4fa;
		--color-lavander: #b4befe;
		--color-mavue: #cba6f7;
		--color-pink: #f5c2e7;
		--color-green: #a6e3a1;
		--color-teal: #94e2d5;
		--color-yellow: #f9e2af;
		--color-peach: #fab387;
		--color-red: #f38ba8;

		--color-link: var(--color-lavander);
		--color-emphasis: var(--color-green);
		--color-deleted: var(--color-red);
		--color-border: #313244;
		--color-code-base: #181825;
		--color-code-text: #cdd6f4;
		--color-header-base: #181825;
		--color-select: var(--color-lavander);
	}

	@media (prefers-color-scheme: light) {
		:root {
			--color-base: #eff1f5;
			--color-text: #4c4f69;
			--color-subtext: #6c6f85;
			--color-maroon: #dc8a78; /* this is rosewater, actually */
			--color-sapphire: #209fb5;
			--color-blue: #1e66f5;
			--color-lavander: #7287fd;
			--color-mavue: #8839ef;
			--color-pink: #ea76cb;
			--color-green: #40a02b;
			--color-teal: #179299;
			--color-yellow: #df8e1d;
			--color-peach: #fe640b;
			--color-red: #d20f39;

			--color-link: var(--color-lavander);
			--color-emphasis: var(--color-peach);
			--color-deleted: var(--color-red);
			--color-border: #ccd0da;
			--color-code-base: #181825;
			--color-code-text: #cdd6f4;
			--color-header-base: #181825;
			--color-select: var(--color-lavander);
		}
	}

	* {
		/* reset these, they are annoying */
		margin: 0;
		padding: 0;
	}

	@font-face {
		font-family: 'nasin-nanpa';
		src: url('/fonts/nasin-nanpa-4.0.1.otf') format('opentype');
		font-weight: normal;
		font-style: normal;
		font-display: swap;
	}

	body {
		background: var(--color-base);
		color: var(--color-text);
		font-family: "JetBrains Mono", monospace;
	}

	main {
		max-width: 80ch;
		font-size: 16px;
		margin: 0 auto;
		padding: 1em;
	}

	.sitelen-pona {
		font-family: "nasin-nanpa", monospace;
		text-decoration: none;
	}

	a {
		color: var(--color-link);
	}

	p {
		padding-bottom: 1em;
	}

	em {
		color: var(--color-emphasis);
	}

	del {
		color: var(--color-deleted);
	}

	hr {
		border: 1px solid var(--color-border);
		margin: 0.25em 0;
	}

	ul, ol {
		padding: 0 0 1em 20px;
	}

	table {
		width: 100%;
		display: block;
		overflow-x: auto;
		text-align: left;
		border: none;
		border-collapse: collapse;
		margin-bottom: 1em;
	}

	tr, td, th {
		border: 1px solid var(--color-border);
		padding: 0.25em 0.5em;
	}

	th {
		font-weight: bold;
	}

	p code {
		background: var(--color-code-base) !important;
		color: var(--color-code-text) !important;
		/* took this from catppuccin-obsidian */
		padding: 0.1em 0.25em;
		border-radius: 4px;
	}

	.astro-code {
		background: var(--color-code-base) !important;
		padding: 1ch;
		margin-bottom: 1em;
		border-radius: 8px;
	}

	svg {
		width: 100%;
		height: fit-content;
		padding-bottom: 1em;
	}

	::selection {
		color: var(--color-base);
		background: var(--color-select);
	}
</style>
